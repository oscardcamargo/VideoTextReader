(()=>{console.log("running");const t=document.createElement("div");t.innerHTML=`<div class="modal" id="modal">\n        <img style="width:24px;height:24px;" src="${chrome.runtime.getURL("images/v-48.png")}">\n        <div class="modal-header">\n            <div class="bar">\n                <div class="title">Summary box</div>\n            </div>\n            <div class = "lbar"></div>\n            <div class = "rbar"></div>\n            <button data-close-button class="close-button">&times;</button>\n        </div>\n        <div class="modal-body">\n            <div id="api-data-container">Hello</div>\n        </div>\n        <div class="textgen">Hello2</div>\n    </div>`;const e=document.createElement("button");e.className="ytp-fullscreen-button ytp-button",e.setAttribute("data-priority","0"),e.setAttribute("data-title-no-tooltip","Select and Explain"),e.setAttribute("title","Select and Explain"),e.innerHTML='<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns: xlink="http://www.w3.org/1999/xlink" viewBox="0 0 36 36">\n        <text x="10" y="24" font-family="Arial" font-size="24" fill="white">E</text>\n    </svg>',e.addEventListener("click",(function(){chrome.storage.local.get(["OpenAIAPIKey"]).then((t=>{console.log("OpenAIAPIKey: "+t.OpenAIAPIKey)})),chrome.storage.local.get(["AWSAPIKey"]).then((t=>{console.log("AWSAPIKey: "+t.AWSAPIKey)})),chrome.storage.local.get(["AWSAPISecret"]).then((t=>{console.log("AWSAPISecret: "+t.AWSAPISecret)}));const t=document.querySelector("#movie_player > div.html5-video-container > video"),e=document.createElement("canvas"),n=e.getContext("2d");e.width=t.videoWidth,e.height=t.videoHeight,n.clearRect(0,0,e.width,e.height),n.drawImage(t,0,0,e.width,e.height);const o=e.toDataURL("image/png"),i=document.implementation.createHTMLDocument("Image"),l=i.body,c=new Image;c.src=o,l.appendChild(c);const a=i.documentElement.outerHTML,d=window.open();d.document.open(),d.document.write(a),d.document.close()}));const n=document.createElement("button");n.className="ytp-fullscreen-button ytp-button",n.setAttribute("data-priority","-1"),n.setAttribute("data-title-no-tooltip","Summarize"),n.setAttribute("title","Summarize"),n.innerHTML='<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns: xlink="http://www.w3.org/1999/xlink" viewBox="0 0 36 36">\n        <text x="10" y="24" font-family="Arial" font-size="24" fill="white">S</text>\n    </svg>',n.addEventListener("click",(function(){const e=document.querySelector("#secondary");e&&e.prepend(t)}));const o=document.querySelector("#movie_player > div.ytp-chrome-bottom > div.ytp-chrome-controls > div.ytp-right-controls");o&&(o.prepend(e),o.prepend(n))})();